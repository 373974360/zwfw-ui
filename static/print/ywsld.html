<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>网上政务大厅管理平台 - 业务受理单</title>
    <style media="print">button {
        display: none;
    }</style>

    <style type="text/css">

        body{
            font-size:16px;
            line-height:2em;
        }
        table{
            border-collapse:collapse;
        }
        table tr td {
            border: solid black 1px;
            padding:10px;

        }


        #wl_list{
            list-style: none;
            margin: 0;
            padding: 0;
        }
        #wl_list li {
            line-height: 2.5em;
        }
    </style>
</head>

<body>
<div class="printTable">
    <div style="text-align: center;">
        <button onclick="window.print()">打印</button>
    </div>
    <p style="font-size: medium;text-align: center;white-space: normal;background-color: rgb(255, 255, 255)">
        <span style="font-size: 24px;font-weight: bold">莲湖区行政审批服务局窗口业务预受理单</span>
    </p>
    <div style="width:600px;margin:10px auto">
        <p style="font-size: medium;text-align: right;">
            <span style="font-size: 16px;">办件号：{{processNumber}}</span>
            <!--<span style="font-size: 16px;">办件号：2018011674390001</span>-->
        </p>
        <table width="100%" >
            <tbody>
            <tr>
                <td colspan="2" align="left">事项名称：{{itemName}}</td>
            </tr>
            <tr>
                <td colspan="2" align="left">申请单位：{{companyName}}</td>
            </tr>
            <tr>
                <td colspan="1" align="left" width="50%">联系人：{{memberName}}</td>
                <td colspan="1" align="left">联系电话：{{memberMobilephone}}</td>
            </tr>
            <tr>
                <td colspan="1" align="left">证件类型：身份证</td>
                <td colspan="1" align="left">身份证号：{{memberIdNumber}}</td>
            </tr>
            <tr>
                <td colspan="2">
                    <div style=" margin-top:1em">
                        收取物料清单：
                        <div >
                            <ul id="wl_list" style="margin:0px;">
                                <li v-for="material in materialList">
                                    {{material}}
                                </li>
                            </ul>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td colspan="2" style="height: 5em">
                    <div style="font-size: 1.1em;">
                        <p style="text-align: right;">
                            本人承诺所提供的办事材料真实有效，如有虚假愿承担一切法律责任。
                        </p>
                    </div>
                    <div style="font-size:1em;">
                        <p>
                            <span style="margin-left: 45%;">申请人：</span>
                            <span style="margin-left: 18%;">时间：{{date}}</span>
                        </p>
                    </div>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <p>
                        <span style="margin-left: 10%;">收件人：</span>
                        <span style="margin-left: 32%;">时间：{{date}}</span>
                    </p>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <div style="min-height: 1em; margin-left: 1%; font-size: 14px;">
                        <p>
                            备注：1、如2个工作日内未通知您补充材料本件即视为正式受理。
                           <div style="margin-left: 7.5%;">
                               2、取件时需要申请人携带受理单与本人身份证（缺一不可），请妥善保管。
                           </div>
                        </p>
                    </div>
                </td>
            </tr>

            </tbody>
        </table>
    </div>


</div>
<script src="../vue.min.js"></script>
<script src="../jquery.min.js"></script>
<script type="text/javascript">
    var interfaceUrl = "/api/hallSystem";

    function getParam(name) {
        return location.search.match(new RegExp('[?&]' + name + '=([^?&]+)', 'i')) ? decodeURIComponent(RegExp.$1) : '';
    }

    var numberId = getParam("numberId");
    console.log(numberId);

    var d = new Date();
    var printTable = new Vue({
        el: '.printTable',
        data: {
            date: "",
            reason: [],
            itemName: "",
            msgType: "",
            memberMobilephone: "",
            companyName: "",
            memberIdNumber: "",
            processNumber: "",
            memberName: "",
            remark: "",
            askPhone: "",
            materialList: []
        },
        mounted: function () {
            var _this = this;
            if (numberId == null) {
                return;
            }
            $.post(interfaceUrl + '/hallCompositeWindow/ywsldData', {
                numberId: numberId
            }, function (response) {
                if (response.httpCode === 200) {
                    _this.date = response.data.date;
                    _this.reason = response.data.reason;
                    _this.itemName = response.data.itemName;
                    _this.msgType = response.data.msgType;
                    _this.memberMobilephone = response.data.memberMobilephone;
                    _this.companyName = response.data.companyName;
                    _this.memberIdNumber = response.data.memberIdNumber;
                    _this.processNumber = response.data.processNumber;
                    _this.memberName = response.data.memberName;
                    _this.remark = response.data.remark;
                    _this.askPhone = response.data.askPhone;
                    _this.materialList = response.data.materialList;
                } else {
                    alert(response.msg);
                }
            });
        }
    });
</script>

</body>


</html>
